# General

API endpoints are available for order management, and market query. Every request must be signed using the described authentication scheme.

### URL

```
https://api.bitmart.com
```

### Parameters

Requests parameters for POST requests \(authenticated\) in the "Authenticated Enpoints" section are part of the PAYLOAD, not GET parameters.

Requests parameters for GET requests \(non-authenticated\) are GET parameters, appended to the URL being called as follows:

```
/<endpoint>/?parameter=value
```

### Note

In order to offer the best service, we have added a rate limit to the number of REST requests.

Our rate limit policy can vary in a range of 10 to 90 requests per minute depending on some factors \(e.g. servers load, endpoint, etc.\).



# Authentication

Authenticated requests require authentication using your BitMart API key. Please contact us to generate API key.

### Generate an API Key

Before being able to sign any requests, you must have an API key which is generated by our team. We will offer the following pieces which you must remember:

* API Key
* API Secret

### API Key Permissions

By default, the API key will grant you access to all the APIs listed below.

### Digital Signature

The client can generate its own digital signature in order to send authenticated requests. We recommend to generate public/private key pairs through _OpenSSL_:

```shell
openssl genrsa -out rsa_private_key.pem # Generate private key

openssl pkcs8 -topk8 -inform PEM -in rsa_private_key.pem -outform PEM -nocrypt -out rsa_private_key_pkcs8.pem # Convert to PKCS8 format

openssl rsa -in rsa_private_key.pem -pubout -out rsa_public_key.pem # Generate public key
```

Once finished, please open _rsa_private_key_pkcs8.pem_ in any text editor you like, and the result should be something like:

```
-----BEGIN PRIVATE KEY-----
MIIE...
-----END PRIVATE KEY-----
```

**Please remove all spaces and line breaks in the key string (starts with "MII") and make it one line.**

Make sure to keep the processed private encryption key in a safe place as it will be needed to sign messages. Please check section _**Getting Bearer Token (OAuth 2.0)**_ below for details.

Similarly, the generated _rsa_public_key.pem_ should be something like:
```
-----BEGIN PUBLIC KEY-----
MIIB...
-----END PUBLIC KEY-----
```

Please send the public key to us and we will use the public key to decrypt the signed messages.

### Getting Bearer Token (OAuth 2.0)

The client can request an access token using API key and a signed message. The client makes a request to the token enpoint by adding the following parameters using the "application/x-www-form-urlencoded" format:

* grant_type: REQUIRED. Value MUST be set to "client_credentials"
* client_id: API key
* client_secret: Generated by creating a base64-encode RSA signature using the RSA private key with PKCS1.5 padding algorithm. The signed content is the string as **API Key + `:` + API Secret + `:` + timestamp** (where + represents string concatenation). And also, timestamp is the value of unix epoch in milliseconds. The output value should be exactly matched the output
```sh
$ openssl rsautl -sign -inkey "YOUR_RSA_PRIVATE_KEY" -in "YOUR_SIGN_CONTENT" | base64
```
Please check the section for sample request [Get Bearer Token](rest/authenticated/oauth.md).

### Sending authenticated requests

The following headers are required when sending authenticated requests:

* _**X-BM-AUTHORIZATION**_
* _**X-BM-TIMESTAMP**_

_**X-BM-AUTHORIZATION**_ is the concatenated string **"Bearer " + Token**, where the token is issued by the authorization server.

The _**X-BM-TIMESTAMP**_ header MUST be the number of milliseconds since [Unix Epoch](https://en.wikipedia.org/wiki/Unix_time) in UTC.

Your timestamp must be within 60 seconds of the API service time or your request will be considered expired and rejected. We recommend using the [time](rest/public/time.md) endpoint to query for the API server time if you believe there may be time skew between your server and the API servers.

### Requests

All requests and responses are application/json content type and follow typical HTTP response status codes for success and failure.

#### Errors

Unless otherwise stated, errors to bad requests will respond with HTTP 4xx or status codes. The body will also contain a message parameter indicating the cause. Your languageâ€™s http library should be configured to provide message bodies for non-2xx requests so that you can read the message field from the body.

**Common error codes**

| Status Code | Reason |
| :--- | :--- |
| 400 | Bad Request - Invalid request format |
| 401 | Unauthorized - Invalid API Key |
| 403 | Forbidden - You do not have access to the request resource |
| 404 | Not Found |
| 500 | Internal Server Error - We had a problem with our server |

#### Success

A successful response is indicated by HTTP status code 200 and may contain an optional body. If the response has a body it will be documented under each resource below.


# Public Endpoints

**All public Endpoints use GET requests.**

### Utility

* GET [Ping](rest/public/ping.md)
* GET [Time](rest/public/time.md)
* GET [Steps](rest/public/steps.md)

### Currencies

* GET [currencies](rest/public/currencies.md)

### Products

* GET [Symbols](rest/public/symbols.md)
* GET [Symbol Details](rest/public/symbol_details.md)
* GET [Ticker](rest/public/ticker.md)
* GET [K-line](rest/public/kline.md)
* GET [Order Book](rest/public/order_book.md)
* GET [Trade History](rest/public/trades.md)


# Authenticated Endpoints

### Authorization

* POST [Bearer Token](rest/authenticated/oauth.md)

### Account

* GET [Wallet Balances](rest/authenticated/wallet_balances.md)

### Order

* POST [Place a New Order](rest/authenticated/post_order.md)
* DELETE [Cancel an Order](rest/authenticated/cancel_order.md)
* DELETE [Cancel All Orders](rest/authenticated/cancel_orders.md)
* GET [List Orders](rest/authenticated/user_orders.md)
* GET [Order details](rest/authenticated/order_details.md)

# Q & A

**Q: Can we use multiple vald token at the same time?**

A: Yes you may request multiple token and use at the same time. However, placing (or canceling) orders with multiple token at the same time is not allowed.

**Q: Do I need to request token every time before I make a functional call?**

A: No you don't have to because the token expiration time is 900 seconds which means you can get a token and use this token to make functional calls until the token expires.




